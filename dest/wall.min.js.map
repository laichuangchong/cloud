{"version":3,"sources":["../js/controller/wall.js"],"names":["private_cloud","controller","$rootScope","$scope","$http","$timeout","$state","count_service","url","headers","then","response","console","log","walls","data","security_groups","alert","statusText","formData","formSubmit","method","security_group","name","wallName","description","$","modal","go","reload"],"mappings":";AAGAA,cAAcC,WAAW,oBAAmB,cAAc,UAAU,SAAS,YAAY,UAAU,iBAAgB,SAAUC,GAAYC,GAAQC,GAAOC,GAAUC,GAAOC;IACrKH;QACII,KAAK;QACLC,SAASP,EAAWO;OACrBC,KAAK,SAAUC;QACdC,QAAQC,IAAIF,IACZR,EAAOW,QAAQH,EAASI,KAAKC;OAC9B,SAAUL;QACTM,MAAMN,EAASO;QAEnBf,EAAOgB,eACPhB,EAAOiB,aAAa;QAChBhB;YACII,KAAK;YACLa,QAAQ;YACRZ,SAASP,EAAWO;YACpBM;gBACIO;oBACIC,MAAQpB,EAAOgB,SAASK;oBACxBC,aAAetB,EAAOgB,SAASM;;;WAGxCf,KAAK,SAAUC;YACdC,QAAQC,IAAIF,IACZe,EAAE,eAAeC,MAAM,SACvBtB,EAAS;gBACLC,EAAOsB,GAAG;oBAAsBC,SAAQ;;eACzC;WAEJ,SAAUlB;YACTM,MAAMN,EAASO","file":"wall.min.js","sourcesContent":["/**\n * Created by chenzhongying on 2018/2/6.\n */\nprivate_cloud.controller('wallController', ['$rootScope', '$scope', '$http', '$timeout', '$state', 'count_service',function ($rootScope, $scope, $http, $timeout, $state,count_service) {\n    $http({\n        url: '/api/list_segroups',\n        headers: $rootScope.headers\n    }).then(function (response) {\n        console.log(response);\n        $scope.walls = response.data.security_groups;\n    }, function (response) {\n        alert(response.statusText);\n    });\n    $scope.formData = {};//初始化表单数据\n    $scope.formSubmit = function () { //创建防火墙\n        $http({\n            url: '/api/list_segroups/',\n            method: 'POST',\n            headers: $rootScope.headers,\n            data: {\n                \"security_group\": {\n                    \"name\": $scope.formData.wallName,\n                    \"description\": $scope.formData.description\n                }\n            }\n        }).then(function (response) {\n            console.log(response);\n            $('#creat_wall').modal('hide');\n            $timeout(function () {\n                $state.go('security.wall', {}, {reload: true});\n            }, 500);\n\n        }, function (response) {\n            alert(response.statusText);\n        });\n    };\n    /*$scope.deleteWall = function (wallId, key, wallName) { //删除防火墙\n        if (confirm('确定要删除防火墙' + wallName + '吗？')) {\n            $http({\n                url: '/api/list_segroups/' + wallId,\n                method: 'DELETE',\n                headers: $rootScope.headers\n            }).then(function (response) {\n                console.log(response);\n                $scope.walls.splice(key, 1);\n            }, function (response) {\n                alert(response.statusText);\n            });\n        }\n    };*/\n\n}]);"]}