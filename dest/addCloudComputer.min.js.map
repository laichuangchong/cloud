{"version":3,"sources":["../js/controller/addCloudComputer.js"],"names":["private_cloud","controller","$scope","$rootScope","$http","network","lan","newConfig","flavors","url","method","headers","then","response","console","log","data","limits","absolute","countData","count","instances","title","used","totalInstancesUsed","total","maxTotalInstances","unit","cores","totalCoresUsed","maxTotalCores","ram","totalRAMUsed","maxTotalRAMSize","changeConfig","coresChangeProgress","vcpus","oldConfig","ramChangeProgress"],"mappings":";AAGAA,cAAcC,WAAW,gCAA8B,UAAS,cAAa,SAAQ,SAASC,GAAOC,GAAWC;IAC5GF,EAAOG;QAAWC,MAAI;OACtBJ,EAAOK,YAAYJ,EAAWK,SAC9BJ;QACIK,KAAK;QACLC,QAAQ;QACRC,SAASR,EAAWQ;OACrBC,KAAK,SAAUC;QACdC,QAAQC,IAAIF,EAASG,KAAKC,OAAOC;QACjC,IAAIC,IAAYN,EAASG,KAAKC,OAAOC;QACrChB,EAAOkB;YACHC;gBACIC,OAAO;gBACPC,MAAMJ,EAAUK;gBAChBC,OAAON,EAAUO;gBACjBC,MAAM;;YAGVC;gBACIN,OAAO;gBACPC,MAAMJ,EAAUU;gBAChBJ,OAAON,EAAUW;gBACjBH,MAAM;;YAEVI;gBACIT,OAAO;gBACPC,MAAMJ,EAAUa,eAAe;gBAC/BP,OAAON,EAAUc,kBAAkB;gBACnCN,MAAM;;;OAIf,SAAUd;QACTC,QAAQC,IAAIF;QAGhBX,EAAOgC,eAAe,SAAU3B;QAC5BL,EAAOiC,sBAAsB5B,EAAU6B,QAAQlC,EAAOmC,UAAUD,OAChElC,EAAOoC,oBAAoB/B,EAAUwB,MAAM,OAAO7B,EAAOmC,UAAUN,MAAM","file":"addCloudComputer.min.js","sourcesContent":["/**\n * Created by chenzhongying on 2018/1/11.\n */\nprivate_cloud.controller('addCloudComputerController',['$scope','$rootScope','$http',function($scope,$rootScope,$http){\n    $scope.network = {lan:true};\n    $scope.newConfig = $rootScope.flavors;\n    $http({   //计算和防火墙\n        url: '/api/nova_limits',\n        method: 'GET',\n        headers: $rootScope.headers\n    }).then(function (response) {\n        console.log(response.data.limits.absolute);\n        var countData = response.data.limits.absolute;\n        $scope.count = {\n            instances: {\n                title: '云主机',\n                used: countData.totalInstancesUsed,\n                total: countData.maxTotalInstances,\n                unit: '个'\n\n            },\n            cores: {\n                title: 'VCPUs',\n                used: countData.totalCoresUsed,\n                total: countData.maxTotalCores,\n                unit: '个'\n            },\n            ram: {\n                title: '内存',\n                used: countData.totalRAMUsed / 1024,\n                total: countData.maxTotalRAMSize / 1024,\n                unit: 'GB'\n            }\n        };\n\n    }, function (response) {\n        console.log(response);\n        // alert(response.data.error.message);\n    });\n    $scope.changeConfig = function (newConfig) { //进度条\n        $scope.coresChangeProgress = newConfig.vcpus - $scope.oldConfig.vcpus; //vcpus\n        $scope.ramChangeProgress = newConfig.ram / 1024 - $scope.oldConfig.ram / 1024; //内存\n    };\n   \n}]);"]}