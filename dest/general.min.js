/*! cloud - v1.0.0 - 2018-02-01 */
private_cloud.controller("generalController", [ "$scope", "$rootScope", "$http", "$q", "count_service", function(t, e, o, a, l) {
    t.get_used_network_promise = a.defer(), l.getCount(), o({
        url: "/api/net_quotas",
        method: "GET",
        headers: e.headers
    }).then(function(e) {
        console.log(e.data.quotas[0]);
        var o = e.data.quotas[0];
        t.network = {
            floatingips: {
                title: "公网IP",
                total: o.floatingip,
                unit: "个"
            },
            routers: {
                title: "路由器",
                total: o.router,
                unit: "个"
            },
            ports: {
                title: "端口",
                total: o.port,
                unit: "个"
            },
            networks: {
                title: "网络",
                total: o.network,
                unit: "个"
            },
            subnets: {
                title: "子网",
                total: o.subnet,
                unit: "个"
            }
        }, console.log(t.network), t.get_used_network_promise.resolve();
    }, function(t) {
        console.log(t), alert(t.data.error.message);
    }), t.get_used_network_promise.promise.then(function() {
        angular.forEach(t.network, function(a, l) {
            console.log(l), o({
                url: "/api/net_" + l,
                method: "GET",
                headers: e.headers
            }).then(function(e) {
                console.log(e.data[l].length), t.network[l].used = e.data[l].length;
            }, function(t) {
                console.log(t), alert(t.data.error.message);
            });
        });
    }), o({
        url: "/api/volume_limits/" + localStorage.getItem("project_id"),
        method: "GET",
        headers: e.headers
    }).then(function(e) {
        console.log(e.data.limits.absolute);
        var o = e.data.limits.absolute;
        t.storage = {
            volumes: {
                title: "云硬盘",
                used: o.totalVolumesUsed,
                total: o.maxTotalVolumes,
                unit: "个"
            },
            gigabytes: {
                title: "云硬盘容量",
                used: o.totalGigabytesUsed,
                total: o.maxTotalVolumeGigabytes,
                unit: "GB"
            }
        };
    }, function(t) {
        alert(t.data.error.message);
    });
} ]);
//# sourceMappingURL=general.min.js.map