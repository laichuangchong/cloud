/*! cloud - v1.0.0 - 2018-02-06 */
private_cloud.controller("generalController", [ "$scope", "$rootScope", "$http", "$q", "count_service", "volume_service", function(e, t, o, n, r, l) {
    e.get_used_network_promise = n.defer(), r.getCount(), t.count_promise.promise.then(function(t) {
        console.log(t), e.count = t.count, e.safe = t.safe;
    }), l.getVolume(), t.volume_promise.promise.then(function(t) {
        console.log(t), e.storage = t;
    }), o({
        url: "/api/net_quotas",
        method: "GET",
        headers: t.headers
    }).then(function(t) {
        console.log(t.data.quotas[0]);
        var o = t.data.quotas[0];
        e.network = {
            floatingips: {
                title: "公网IP",
                total: o.floatingip,
                unit: "个"
            },
            routers: {
                title: "路由器",
                total: o.router,
                unit: "个"
            },
            ports: {
                title: "端口",
                total: o.port,
                unit: "个"
            },
            networks: {
                title: "网络",
                total: o.network,
                unit: "个"
            },
            subnets: {
                title: "子网",
                total: o.subnet,
                unit: "个"
            }
        }, console.log(e.network), e.get_used_network_promise.resolve();
    }, function(e) {
        console.log(e), alert(e.data.error.message);
    }), e.get_used_network_promise.promise.then(function() {
        angular.forEach(e.network, function(n, r) {
            console.log(r), o({
                url: "/api/net_" + r,
                method: "GET",
                headers: t.headers
            }).then(function(t) {
                console.log(t.data[r].length), e.network[r].used = t.data[r].length;
            }, function(e) {
                console.log(e), alert(e.data.error.message);
            });
        });
    });
} ]);
//# sourceMappingURL=general.min.js.map