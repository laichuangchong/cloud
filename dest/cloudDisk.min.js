/*! cloud - v1.0.0 - 2018-02-05 */
private_cloud.controller("cloudDiskController", [ "$scope", "$rootScope", "$http", "cloud_service", "$interval", function(e, t, o, l, s) {
    e.diskStatus = {
        "in-use": "已挂载",
        available: "可用",
        creating: "正在创建",
        deleting: "删除中",
        detaching: "分离中",
        attaching: "连接中",
        error: "错误"
    }, o({
        url: "/api/list_volumes",
        headers: t.headers
    }).then(function(l) {
        console.log(l), e.disks = l.data.volumes, angular.forEach(e.disks, function(l, a) {
            "in-use" != l.status && "available" != l.status && "error" != l.status && (console.log(a), 
            e["volumesInterval" + a] = s(function() {
                o({
                    url: " /api/list_volumes/" + l.id,
                    headers: t.headers
                }).then(function(t) {
                    console.log(t);
                    var o = t.data.volume.status;
                    "in-use" != o && "available" != o && "error" != o || (s.cancel(e["volumesInterval" + a]), 
                    e["volumesInterval" + a] = null);
                }, function(e) {
                    alert(e.statusText);
                });
            }, 1e4));
        });
    }, function(e) {
        alert(e.statusText);
    }), l.getCloud(), t.cloud_promise.promise.then(function(e) {
        console.log(e);
    }), e.editInuse = function() {};
} ]);
//# sourceMappingURL=cloudDisk.min.js.map