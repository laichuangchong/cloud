{"version":3,"sources":["../js/controller/login.js"],"names":["private_cloud","controller","$scope","tokenService","$rootScope","login","$event","preventDefault","console","log","userName","password","getToken","token_promise","promise","then","token","headers","X-Auth-Token","Accept","window","location","href","info"],"mappings":";AAGAA,cAAcC,WAAW,uBAAsB,UAAU,gBAAgB,cAAc,SAAUC,GAAQC,GAAcC;IAC/GF,EAAOG,QAAQ,SAAUC;QACrBA,EAAOC,kBACPC,QAAQC,IAAIP,EAAOQ,WACnBF,QAAQC,IAAIP,EAAOS,WACnBR,EAAaS,SAASV,EAAOQ,UAAUR,EAAOS;OAElDP,EAAWS,cAAcC,QAAQC,KAAK,SAAUC;QAC5CZ,EAAWa;YACPC,gBAAeF;YACfG,QAAU;WAEdX,QAAQC,IAAI,WAASO,IACrBI,OAAOC,SAASC,OAAO;OACxB,SAAUC;QACTf,QAAQC,IAAIc","file":"login.min.js","sourcesContent":["/**\n * Created by chenzhongying on 2018/1/10.\n */\nprivate_cloud.controller('ngLoginController', ['$scope', 'tokenService', '$rootScope', function ($scope, tokenService, $rootScope) {\n        $scope.login = function ($event) {\n            $event.preventDefault();\n            console.log($scope.userName);\n            console.log($scope.password);\n            tokenService.getToken($scope.userName, $scope.password);\n        };\n        $rootScope.token_promise.promise.then(function (token) {\n            $rootScope.headers = {\n                'X-Auth-Token':token,\n                'Accept': 'application/json'\n            };\n            console.log('重新获取成功'+token);\n            window.location.href = '/';\n        }, function (info) {\n            console.log(info);\n        });\n\n    }]\n);"]}