{"version":3,"sources":["../js/controller/addCloudDisk.js"],"names":["private_cloud","controller","$scope","$rootScope","volume_service","$http","$state","getVolume","volume_promise","promise","then","data","console","log","storage","formData","size","formSubmit","$event","url","method","headers","volume","availability_zone","display_name","name","display_description","description","response","go","alert","statusText"],"mappings":";AAGAA,cAAcC,WAAW,4BAA2B,UAAU,cAAc,kBAAkB,SAAQ,UAAU,SAAUC,GAAQC,GAAYC,GAAgBC,GAAMC;IAChKF,EAAeG,aACfJ,EAAWK,eAAeC,QAAQC,KAAK,SAAUC;QAC7CC,QAAQC,IAAIF,IACZT,EAAOY,UAAUH;QAGrBT,EAAOa;QACHC,MAAM;OAEVd,EAAOe,aAAa,SAAUC;QAC1Bb;YACIc,KAAK;YACLC,QAAQ;YACRC,SAASlB,EAAWkB;YACpBV;gBACIW;oBACIC,mBAAqB;oBACrBC,cAAgBtB,EAAOa,SAASU;oBAChCC,qBAAuBxB,EAAOa,SAASY;oBACvCX,MAAQd,EAAOa,SAASC;;;WAGjCN,KAAK,SAAUkB;YACdhB,QAAQC,IAAIe,IACZtB,EAAOuB,GAAG;WAEZ,SAASD;YACPE,MAAMF,EAASG","file":"addCloudDisk.min.js","sourcesContent":["/**\n * Created by chenzhongying on 2018/1/16.\n */\nprivate_cloud.controller('addCloudDiskController', ['$scope', '$rootScope', 'volume_service', '$http','$state', function ($scope, $rootScope, volume_service, $http,$state) {\n    volume_service.getVolume(); //获取云硬盘相关信息\n    $rootScope.volume_promise.promise.then(function (data) {\n        console.log(data);\n        $scope.storage = data;\n    });\n\n    $scope.formData = { //初始化表单数据\n        size: 1\n    };\n    $scope.formSubmit = function ($event) {\n        $http({\n            url: '/api/list_volumes/',\n            method: 'POST',\n            headers: $rootScope.headers,\n            data: {\n                \"volume\": {\n                    \"availability_zone\": \"nova\",\n                    \"display_name\": $scope.formData.name,\n                    \"display_description\": $scope.formData.description,\n                    \"size\": $scope.formData.size\n                }\n            }\n        }).then(function (response) {\n            console.log(response);\n            $state.go('storage.couldDisk');\n            \n        },function(response){\n            alert(response.statusText);\n        });\n    };\n}]);"]}