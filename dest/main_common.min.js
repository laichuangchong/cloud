/*! cloud - v1.0.0 - 2018-01-24 */
private_cloud.run([ "$rootScope", "$q", "$http", "tokenService", function(e, o, a, t) {
    t.getToken(localStorage.getItem("username"), localStorage.getItem("password")), 
    e.network_promise = o.defer(), e.net_work = {}, e.token_promise.promise.then(function(o) {
        e.headers = {
            "X-Auth-Token": o,
            Accept: "application/json"
        }, console.log("重新获取成功" + o), a({
            url: "/api/list_images",
            method: "GET",
            headers: e.headers
        }).then(function(o) {
            console.log(o.data.images), e.images = o.data.images;
        }, function(e) {
            alert(e.data.error.message);
        }), a({
            url: "/api/list_flavors/detail",
            method: "GET",
            headers: e.headers
        }).then(function(o) {
            console.log(o), e.flavors = o.data.flavors;
        }, function(e) {
            alert(e.data.error.message);
        }), a({
            url: "/api/list_networks",
            method: "GET",
            headers: e.headers
        }).then(function(o) {
            console.log(o.data.networks), angular.forEach(o.data.networks, function(o, a) {
                switch (o["provider:network_type"]) {
                  case "vxlan":
                    e.net_work.fixedName = o.name;
                    break;

                  case "flat":
                    e.net_work.floatingName = o.name;
                }
            }), e.network_promise.resolve();
        }, function(e) {
            alert(e.data.error.message);
        });
    }, function(e) {
        console.log(e);
    });
} ]);
//# sourceMappingURL=main_common.min.js.map