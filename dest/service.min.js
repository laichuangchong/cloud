/*! cloud - v1.0.0 - 2018-01-12 */
private_cloud.service("tokenService", [ "$http", "$rootScope", "$timeout", function(e, o, t) {
    return {
        getToken: function(t, n) {
            e({
                url: "./apiv1",
                headers: {
                    "Content-Type": "application/json"
                },
                method: "POST",
                data: {
                    auth: {
                        identity: {
                            methods: [ "password" ],
                            password: {
                                user: {
                                    name: t,
                                    domain: {
                                        name: "Default"
                                    },
                                    password: n
                                }
                            }
                        },
                        scope: {
                            project: {
                                name: "admin",
                                domain: {
                                    name: "Default"
                                }
                            }
                        }
                    }
                }
            }).success(function(e, t, n, r) {
                console.log(e.token.project.id), console.log(t), window.localStorage.setItem("token", n()["x-subject-token"]), 
                window.localStorage.setItem("project_id", e.token.project.id), o.token_promise.resolve(n()["x-subject-token"]);
            }).error(function(e, t, n, r) {
                o.token_promise.reject("获取token失败");
            });
        }
    };
} ]);
//# sourceMappingURL=service.min.js.map